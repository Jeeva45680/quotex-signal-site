<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Quotex Signal Dashboard</title>
  <style>
    body {
      background: #020617;
      color: white;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    h2 {
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border-bottom: 1px solid #334155;
      padding: 10px;
      text-align: center;
    }
    th {
      color: #38bdf8;
    }
  </style>
</head>

<body>
  <h2>ðŸ“Š Quotex Signal Dashboard</h2>

  <table>
    <thead>
      <tr>
        <th>TIME</th>
        <th>MARKET</th>
        <th>PAIR</th>
        <th>SIGNAL</th>
        <th>CONFIDENCE</th>
        <th>WINS</th>
        <th>LOSSES</th>
      </tr>
    </thead>
    <tbody id="signalTable"></tbody>
  </table>

  <script>
    async function loadSignals() {
      try {
        const response = await fetch("signal.json?ts=" + Date.now());
        const data = await response.json();

        const table = document.getElementById("signalTable");
        table.innerHTML = "";

        const signals = data.signals ? data.signals : [data];

signals.forEach(s => {
  table.innerHTML += `
    <tr>
      <td>${s.time ?? "-"}</td>
      <td>${s.market ?? "FOREX"}</td>
      <td>${s.pair ?? "-"}</td>
      <td>${s.signal ?? "-"}</td>
      <td>${s.confidence ?? "-"}</td>
      <td>${s.wins ?? "-"}</td>
      <td>${s.losses ?? "-"}</td>
    </tr>
  `;
});

          table.innerHTML += `
            <tr>
              <td>${s.time}</td>
              <td>${s.market}</td>
              <td>${s.pair}</td>
              <td>${s.signal}</td>
              <td>${s.confidence}%</td>
              <td>${s.wins}</td>
              <td>${s.losses}</td>
            </tr>
          `;
        });
      } catch (e) {
        console.error("Failed to load signal.json", e);
      }
    }

    loadSignals();              // load immediately
    setInterval(loadSignals, 60000); // refresh every 1 minute
  </script>
</body>
</html>
